<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>NewsPalette - Homepage</title>

    <!-- Fonts / Icons (ì›ë³¸ ìœ ì§€) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <!-- ë‹¤í¬í† ê¸€, í”„ë¡œí•„ ì•„ì´ì½˜ ì¶œì²˜ -->
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
        rel="stylesheet"
      />

    <link rel="stylesheet" href="./styles.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

   <style>
      /*ë‹¤í¬ëª¨ë“œ */
      :root {
          --primary: #3b82f6;
          --surface: #ffffff;
          --text: #1f2937;
          --muted: #6b7280;
          --border: #e5e7eb;
          --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
          --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
          --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
          --container: 1280px;
          --gray-100: #f3f4f6;
          --gray-700: #374151;
          --gray-800: #1f2937;
      }

      body.dark {
          --surface: #1f2937;
          --text: #f3f4f6;
          --muted: #9ca3af;
          --border: #374151;
      }

      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }

      body {
          font-family: 'Noto Sans KR', sans-serif;
          background-color: #f3f4f6;
          color: var(--text);
          transition: background-color 0.2s, color 0.2s;
          -webkit-font-smoothing: antialiased;
      }

      body.dark {
          background-color: #111827;
      }

      .container {
          max-width: var(--container);
          margin: 0 auto;
          padding: 0 16px;
      }
      /* Scrollbar */
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-track { background: transparent; }
      ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
      html.dark ::-webkit-scrollbar-thumb { background: #4b5563; }

      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
      }

      .brand-icon {
        width: 32px; height: 32px;
        border-radius: 999px;
        background: var(--primary);
        color: #fff;
        display: grid;
        place-items: center;
        position: relative;
      }
      .brand-icon .material-icons-round { font-size: 18px; }

      .brand-badge {
        position: absolute;
        top: -4px; right: -4px;
        width: 12px; height: 12px;
        background: #ef4444;
        border-radius: 999px;
        border: 2px solid var(--surface);
      }

      .brand-name {
        font-weight: 900;
        font-size: 20px;
        letter-spacing: -0.02em;
      }
      /* ì¹´í…Œê³ ë¦¬ */
      /* Navigation */
      nav {
          position: sticky;
          top: 0;
          z-index: 50;
          background-color: #FFFFFF;
          border-bottom: 1px solid #E5E7EB;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      }

      body.dark nav {
          background-color: #1F2937;
          border-bottom-color: #374151;
      }

      .nav-container {
          max-width: 1280px;
          margin: 0 auto;
          padding: 0 1rem;
      }

      .nav-content {
          display: flex;
          justify-content: space-between;
          align-items: center;
          height: 64px;
          position: relative;
      }

      .nav-left {
          display: flex;
          align-items: center;
      }

      .logo {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          text-decoration: none;
          cursor: pointer;
      }

      .logo-icon {
          color: #3B82F6;
          font-size: 1.875rem;
      }

      .logo-text {
          font-weight: 700;
          font-size: 1.25rem;
          color: #3B82F6;
          letter-spacing: -0.025em;
      }

      .category {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        display: none;
        white-space: nowrap;
      }

      @media (min-width: 850px) {
          .category {
              display: flex;
              align-items: center;
              gap: 0.25rem;
          }
      }

      .nav-splash-item {
          position: relative;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          padding: 0.5rem 1.25rem;
          margin: 0 0.25rem;
          font-weight: 500;
          transition: all 0.3s ease;
          z-index: 10;
          color: #4B5563;
          text-decoration: none;
          white-space: nowrap;
      }

      body.dark .nav-splash-item {
          color: #D1D5DB;
      }

      .nav-splash-item::before {
          content: "";
          position: absolute;
          top: 50%;
          left: 50%;
          width: 160%;
          height: 160%;
          transform: translate(-50%, -50%) scale(0.6);
          background-color: var(--splash-color);
          -webkit-mask-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M44.7,-76.4C58.9,-69.2,71.8,-59.1,81.6,-46.6C91.4,-34.1,98.2,-19.2,95.8,-5.2C93.4,8.9,81.8,22,70.8,32.8C59.8,43.6,49.4,52,38.2,58.8C27,65.6,15,70.8,1.4,68.4C-12.2,66,-26.8,55.9,-39.7,46.7C-52.6,37.5,-63.9,29.1,-71.3,17.8C-78.7,6.5,-82.3,-7.8,-78.4,-20.9C-74.5,-34,-63.1,-46,-50.7,-53.8C-38.3,-61.6,-24.8,-65.2,-11.3,-67.2C2.2,-69.2,15.7,-69.6,30.5,-83.6L44.7,-76.4Z' transform='translate(100 100)' /%3E%3C/svg%3E");
          mask-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M44.7,-76.4C58.9,-69.2,71.8,-59.1,81.6,-46.6C91.4,-34.1,98.2,-19.2,95.8,-5.2C93.4,8.9,81.8,22,70.8,32.8C59.8,43.6,49.4,52,38.2,58.8C27,65.6,15,70.8,1.4,68.4C-12.2,66,-26.8,55.9,-39.7,46.7C-52.6,37.5,-63.9,29.1,-71.3,17.8C-78.7,6.5,-82.3,-7.8,-78.4,-20.9C-74.5,-34,-63.1,-46,-50.7,-53.8C-38.3,-61.6,-24.8,-65.2,-11.3,-67.2C2.2,-69.2,15.7,-69.6,30.5,-83.6L44.7,-76.4Z' transform='translate(100 100)' /%3E%3C/svg%3E");
          -webkit-mask-repeat: no-repeat;
          mask-repeat: no-repeat;
          -webkit-mask-position: center;
          mask-position: center;
          -webkit-mask-size: contain;
          mask-size: contain;
          opacity: 0;
          z-index: -1;
          transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      .nav-splash-item:hover {
          color: var(--splash-text-color, var(--splash-color));
      }

      .nav-splash-item:hover::before {
          opacity: 0.2;
          transform: translate(-50%, -50%) scale(1.05) rotate(10deg);
      }

      .nav-splash-item.active {
          color: var(--splash-text-color, var(--splash-color));
      }

      .nav-splash-item.active::before {
          opacity: 0.35;
          transform: translate(-50%, -50%) scale(1.15);
      }

      .splash-society { --splash-color: #93C5FD; --splash-text-color: #1D4ED8; }
      .splash-politics { --splash-color: #FCA5A5; --splash-text-color: #B91C1C; }
      .splash-economy { --splash-color: #6EE7B7; --splash-text-color: #047857; }
      .splash-world { --splash-color: #FCD34D; --splash-text-color: #B45309; }
      .splash-tech { --splash-color: #C4B5FD; --splash-text-color: #6D28D9; }

      .nav-right {
          display: flex;
          align-items: center;
          gap: 1rem;
      }

      .material-symbols-outlined {
        font-family: 'Material Symbols Outlined' !important;
        font-size: 24px;
        line-height: 1;
      }

      body.dark .dropdown-header {
          border-bottom-color: #374151;
      }

      .dropdown-subtitle {
          font-size: 0.75rem;
          color: #6B7280;
      }

      body.dark .dropdown-subtitle {
          color: #9CA3AF;
      }

      .dropdown-title {
          font-size: 0.875rem;
          font-weight: 700;
          color: #111827;
          margin-top: 0.125rem;
      }

      body.dark .dropdown-title {
          color: #FFFFFF;
      }

      .dropdown-item {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 0.625rem 1rem;
          font-size: 0.875rem;
          color: #374151;
          text-decoration: none;
          transition: background-color 0.2s;
          background: none;
          border: none;
          width: 100%;
          text-align: left;
          cursor: pointer;
      }

      body.dark .dropdown-item {
          color: #E5E7EB;
      }

      .dropdown-item:hover {
          background-color: #F9FAFB;
      }

      body.dark .dropdown-item:hover {
          background-color: rgba(55, 65, 81, 0.5);
      }

      .dropdown-item .material-symbols-outlined {
          font-size: 1.25rem;
          color: #9CA3AF;
          transition: color 0.2s;
      }

      body.dark .dropdown-item .material-symbols-outlined {
          color: #6B7280;
      }

      .dropdown-item:hover .material-symbols-outlined {
          color: #3B82F6;
      }

      .dropdown-item.logout-btn:hover {
          color: #EF4444;
      }

      .dropdown-item.logout-btn:hover .material-symbols-outlined {
          color: #EF4444;
      }

      /* Actions */
      .header-actions {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      /* ë‹¤í¬ëª¨ë“œ ë²„íŠ¼ */
      .icon-button {
        padding: 0.5rem;
        border-radius: 50%;
        background: none;
        border: none;
        color: var(--muted);
        cursor: pointer;
        transition: background-color 0.2s;
      }

      body.dark .icon-button {
        color: #9CA3AF;
      }

      .icon-button:hover {
        background-color: var(--gray-100);
      }

      body.dark .icon-button:hover {
        background-color: var(--gray-700);
      }

      /* =========================
        USER MENU (CLICK MODE)
      ========================= */

      .user-menu {
        position: relative;
      }

      .user-menu-button {
        position: relative;
        padding: 0.5rem;
        background: none;
        border: none;
        cursor: pointer;
      }

      .user-menu-blob {
        position: absolute;
        inset: 0;
        background-color: var(--gray-100);
        opacity: 0;
        transition: opacity 0.2s;
        transform: scale(1.3);
        border-radius: 50%;
      }

      body.dark .user-menu-blob {
        background-color: var(--gray-800);
      }

      .user-menu-button:hover .user-menu-blob {
        opacity: 1;
      }

      .user-menu-icon {
        position: relative;
        z-index: 10;
      }

      /* ğŸ”¹ ë“œë¡­ë‹¤ìš´ */
      .user-dropdown {
        position: absolute;
        top: calc(100% + 8px);
        right: 0;
        width: 220px;
        background: var(--surface);
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        display: none;
        overflow: hidden;
        z-index: 100;
        border: 1px solid var(--border);
      }

      body.dark .user-dropdown {
        border-color: #374151;
      }

      .user-dropdown.show {
        display: block;
      }

      /* ğŸ”¹ í—¤ë” */
      .dropdown-header {
        padding: 14px 16px;
        border-bottom: 1px solid var(--border);
      }

      .dropdown-subtitle {
        font-size: 12px;
        color: var(--muted);
      }

      .dropdown-title {
        font-size: 14px;
        font-weight: 700;
        margin-top: 2px;
      }

      /* ğŸ”¹ ì•„ì´í…œ */
      .dropdown-item {
        display: flex;
        align-items: center;
        gap: 10px;
        width: 100%;
        padding: 12px 16px;
        font-size: 14px;
        color: var(--text);
        background: none;
        border: none;
        cursor: pointer;
        text-decoration: none;
        transition: background-color 0.2s;
      }

      .dropdown-item:hover {
        background: color-mix(in oklab, var(--text) 8%, transparent);
      }

      .dropdown-item.logout-btn {
        color: #ef4444;
      }

      .dropdown-item.logout-btn:hover {
        background: rgba(239, 68, 68, 0.1);
      }


      /* ì‹ ë¢°ë„ ë²„íŠ¼ ---------------------------------------------*/
      .trust-wrapper {
        display: flex;
        align-items: center;
      }

      /* ë²„íŠ¼ */
      .trust-button {
        position: relative;
        display: flex;
        align-items: center;
        gap: 6px;

        padding: 6px 12px;
        font-size: 14px;
        font-weight: 500;

        color: #2563eb;
        background-color: #eff6ff;
        border: none;
        border-radius: 8px;
        cursor: pointer;

        transition: background-color 0.2s;
      }

      .trust-button:hover {
        background-color: #dbeafe;
      }

      /* ë‹¤í¬ëª¨ë“œ */
      html.dark .trust-button {
        background-color: rgba(30, 58, 138, 0.3);
        color: #93c5fd;
      }

      /* ì•„ì´ì½˜ */
      .trust-icon {
        font-size: 16px;
      }

      /* ë±ƒì§€ ìœ„ì¹˜ */
      .trust-badge {
        position: absolute;
        top: -4px;
        right: -4px;
        width: 12px;
        height: 12px;
      }

      /* ê³ ì • ì  */
      .badge-dot {
        position: relative;
        width: 12px;
        height: 12px;
        background: #3b82f6;
        border-radius: 50%;
        z-index: 2;
      }

      /* í¼ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜ */
      .badge-ping {
        position: absolute;
        inset: 0;
        background: #60a5fa;
        border-radius: 50%;
        animation: ping 1.5s infinite;
        opacity: 0.7;
      }

      @keyframes ping {
        0% {
          transform: scale(1);
          opacity: 0.7;
        }
        100% {
          transform: scale(2);
          opacity: 0;
        }
      }

      /* Main layout */
      .main { padding: 10px 16px; }

      .search-section { margin-bottom: 30px; }

      .search-bar {
        max-width: 896px;
        margin: 0 auto;
        padding: 8px;
        border-radius: 16px;
        border: 1px solid var(--border);
        background: var(--surface);
        box-shadow: var(--shadow-sm);

        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      @media (min-width: 640px) {
        .search-bar { flex-direction: row; align-items: center; }
      }

      .select-wrap { position: relative; width: 100%; }
      @media (min-width: 640px) { .select-wrap { width: auto; } }

      .select {
        appearance: none;
        width: 100%;
        padding: 12px 36px 12px 16px;
        border: 0;
        border-radius: 10px;
        background: color-mix(in oklab, var(--text) 6%, transparent);
        color: color-mix(in oklab, var(--text) 88%, transparent);
        font-weight: 600;
        font-size: 13px;
        cursor: pointer;
        outline: none;
      }
      @media (min-width: 640px) { .select { width: 128px; } }

      .select-caret {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 18px;
        color: var(--muted);
        pointer-events: none;
      }

      .search-input-wrap { position: relative; width: 100%; flex: 1; }
      .search-input {
        width: 100%;
        padding: 12px 44px 12px 16px;
        border-radius: 10px;
        border: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
        background: var(--surface);
        color: var(--text);
        outline: none;
        transition: box-shadow .15s, border-color .15s;
      }
      .search-input::placeholder { color: color-mix(in oklab, var(--text) 35%, transparent); }
      .search-input:focus {
        border-color: transparent;
        box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary) 35%, transparent);
      }

      .search-btn {
        position: absolute;
        top: 50%;
        right: 10px;
        transform: translateY(-50%);
        border: 0;
        background: transparent;
        color: var(--primary);
        cursor: pointer;
      }
      .search-btn .material-icons-round { font-size: 26px; }


      /* Top grid */
      .top-grid {
        display: grid;
        gap: 15px;
        margin-bottom: 12px;
        align-items: stretch;
      }

      @media (min-width: 1024px) {
        .top-grid { grid-template-columns: 2fr 1fr; }
      }

      /* ìºëŸ¬ì…€ ê¸°ë³¸ */
      .carousel {
        position: relative;
      }

      /* ë³´ì´ëŠ” ì˜ì—­ */
      .viewport {
        overflow: hidden;
        width: 100%;
      }

      /* ì‹¤ì œë¡œ ì›€ì§ì´ëŠ” ì¤„ */
      .track {
        display: flex;
        width: 100%;
        transition: transform 0.4s ease;
      }

      /* ë©”ì¸ ê¸°ì‚¬ ì¹´ë“œ - ê³ ì • ë†’ì´ */
      .news-link {
        flex: 0 0 100%;
        width: 100%;
        max-width: 100%;
        text-decoration: none;
        color: inherit;
        display: block;
      }

      .main-news-card {
        flex: 0 0 100%;
        width: 100%;
        max-width: 100%;
        height: 500px; /* ê³ ì • ë†’ì´ */
        display: grid;
        grid-template-columns: 1.5fr 1fr; /* 1:1 ë¹„ìœ¨ */
        gap: 0;
        border-radius: 20px;
        overflow: hidden;
        background: var(--surface);
        position: relative;
        cursor: pointer;
        transition: transform .25s ease, box-shadow .25s ease;
      }

      .main-news-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-lg);
      }

      /* ì´ë¯¸ì§€ ì˜ì—­ */
      .main-news-media {
        position: relative;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }

      .main-news-media img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .media-gradient {
        position: absolute;
        inset: 0;
        background: linear-gradient(
          to bottom,
          rgba(0,0,0,0.1),
          rgba(0,0,0,0.6)
        );
      }

      .trend-chip {
        position: absolute;
        top: 16px;
        left: 16px;

        display: inline-flex;
        align-items: center;
        gap: 6px;

        padding: 6px 12px;
        border-radius: 9999px;

        background: linear-gradient(
          135deg,
          #3b82f6,
          #2563eb
        );

        color: #fff;
        font-size: 13px;
        font-weight: 600;

        box-shadow: 0 2px 6px rgba(37, 99, 235, 0.35);
      }
      .trend-chip .material-symbols-outlined { font-size: 16px; }

      /* í…ìŠ¤íŠ¸ ì˜ì—­ */
      .main-news-body {
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding: 24px;
        height: 100%;
        background: var(--surface);
        overflow: hidden;
      }

      html.dark .main-news-body {
        background: linear-gradient(
          to right,
          rgba(31, 41, 55, 0.96),
          rgba(31, 41, 55, 0.88)
        );
      }

      .meta-row {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 8px;
      }

      .pill {
        padding: 4px 12px;
        border-radius: 6px;
        background: rgba(59, 130, 246, 0.15);
        color: var(--primary);
        font-size: 12px;
        font-weight: 600;
      }

      .date {
        font-size: 12px;
        color: var(--muted);
      }

      /* ì œëª© */
      .main-title {
        margin: 0 0 12px;
        color: var(--text);;
        font-weight: 800;
        line-height: 1.3;
        font-size: 28px;
        display: -webkit-box;
        -webkit-line-clamp: 2; /* ìµœëŒ€ 2ì¤„ */
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      html.dark .main-title {
        color: #ffffff;
      }

      @media (min-width: 768px) {
        .main-title { font-size: 32px; }
      }

      /* ì„¤ëª… */
      .main-desc {
        margin: 0 0 12px;
        color: color-mix(in oklab, var(--text) 75%, transparent);
        font-size: 14px;
        line-height: 1.6;
        display: -webkit-box;
        -webkit-line-clamp: 3; /* ìµœëŒ€ 3ì¤„ */
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        flex: 1;
      }

      @media (min-width: 768px) {
        .main-desc { font-size: 15px; }
      }

      /* í‘¸í„° - í•˜ë‹¨ ê³ ì • */
      .article-footer {
        margin-top: auto;
        margin-bottom: 8px;
      }

      .article-author-info {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 13px;
        color: var(--muted);
      }

      .author-name {
        font-weight: 600;
      }

      .author-dot::before {
        content: "â€¢";
        margin-right: 8px;
      }

      /* ì ìˆ˜ ì»¨í…Œì´ë„ˆ */
      .score-container {
        margin-top: 8px;
      }

      /* í™”ì‚´í‘œ ë²„íŠ¼ */
      .arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: 10;
        background: rgba(0,0,0,0.5);
        border: none;
        color: #fff;
        padding: 12px;
        cursor: pointer;
        border-radius: 50%;
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.2s;
      }

      .arrow:hover {
        background: rgba(0,0,0,0.7);
      }

      .arrow.left { left: 12px; }
      .arrow.right { right: 12px; }

      /* ========== ë©”ì¸ ê¸°ì‚¬ ìºëŸ¬ì…€ ì ìˆ˜ ========== */
      .main-news-body .score-container {
        display: flex;
        gap: 20px;
        align-items: center;
        margin-top: 12px;
      }

      .main-news-body .trend-score,
      .main-news-body .trust-score {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 13px;
        font-weight: 500;
      }

      .main-news-body .trend-score {
        color: #eb2581;
      }

      .main-news-body .trust-score {
        color: #2563eb;
      }

      .main-news-body .trend-value {
        padding: 3px 8px;
        border-radius: 6px;
        background: #ffe6f0;
      }

      .main-news-body .trust-value {
        padding: 3px 8px;
        border-radius: 6px;
        background: #eff6ff;
      }

      html.dark .main-news-body .trend-value {
        background: rgba(235, 37, 129, 0.25);
      }

      html.dark .main-news-body .trust-value {
        background: rgba(37, 99, 235, 0.25);
      }

      /* ========== ì—°ê´€ ê¸°ì‚¬ & ê°œì¸í™” ê¸°ì‚¬ ì‹ ë¢°ë„ ì ìˆ˜ (ìš°ì¸¡ í•˜ë‹¨) ========== */
      .related-item .trust-score,
      .personal-card .trust-score {
        position: absolute;
        right: 16px;
        bottom: 12px;

        display: flex;
        align-items: center;
        gap: 6px;

        padding: 4px 10px;
        font-size: 13px;
        border-radius: 8px;

        color: #2563eb;
        background-color: #eff6ff;
      }

      html.dark .related-item .trust-score,
      html.dark .personal-card .trust-score {
        background: rgba(37, 99, 235, 0.25);
      }

      /* Related */
      .related-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin: 0 4px 10px;
      }
      .newslink {
        text-decoration: none;
      }
      .section-title {
        margin: 0;
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 18px;
        font-weight: 800;
      }

      .title-bar {
        display: inline-block;
        width: 6px; height: 24px;
        border-radius: 999px;
        background: var(--primary);
      }

      .more-link {
        font-size: 14px;
        text-decoration: none;
        color: var(--muted);
      }
      .more-link:hover { color: var(--primary); }

      .related-item {
        margin: 10px;
        position: relative;
        display: flex;
        cursor: pointer;
        gap: 14px;
        height: 106px;
        padding: 12px;
        border-radius: 14px;
        border: 1px solid var(--border);
        background: var(--surface);
        box-shadow: var(--shadow-sm);
        transition: box-shadow .15s, transform .15s;
        min-height: 96px;
      }
      .related-item + .related-item { margin-top: 12px; }
      .related-item:hover {
        box-shadow: var(--shadow-md);
        transform: translateY(-2px);
      }

      .thumb {
        width: 96px;
        border-radius: 12px;
        overflow: hidden;
        flex: 0 0 auto;
        background: color-mix(in oklab, var(--text) 12%, transparent);
      }
      .thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transform: scale(1);
        transition: transform .5s;
      }
      .related-item:hover .thumb img { transform: scale(1.1); }

      .related-text {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding: 4px 72px 4px 0;
        min-width: 0;
        position: relative;
      }
      .related-title {
        margin: 0;
        font-size: 13px;
        font-weight: 700;
        color: color-mix(in oklab, var(--text) 92%, transparent);
        transition: color .15s;
      }
      .related-item:hover .related-title { color: var(--primary); }
      .related-time { font-size: 12px; color: color-mix(in oklab, var(--text) 45%, transparent); }

      /* Sub section */
      .sub-head { margin: 0 4px 16px; }
      .section-title-inline {
        margin: 0;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-size: 18px;
        font-weight: 800;
      }
      .section-title-inline .material-icons-round { color: var(--primary); }

      .sub-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 24px;
      }
      @media (min-width: 768px) {
        .sub-grid { grid-template-columns: repeat(3, 1fr); }
      }

      .sub-card {
        border-radius: 14px;
        cursor: pointer;
        overflow: hidden;
        border: 1px solid var(--border);
        background: var(--surface);
        box-shadow: var(--shadow-sm);
        display: flex;
        flex-direction: column;
        transition: box-shadow .2s ease, transform .2s ease;
      }
      .sub-card:hover {
        box-shadow: var(--shadow-lg);
        transform: translateY(-4px);
      }

      .sub-media {
        position: relative;
        height: 192px;
        background: color-mix(in oklab, var(--text) 12%, transparent);
        overflow: hidden;
      }
      .sub-media img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transform: scale(1);
        transition: transform .5s;
      }
      .sub-card:hover .sub-media img { transform: scale(1.1); }

      .tag {
        position: absolute;
        top: 8px;
        right: 8px;
        padding: 2px 8px;
        border-radius: 6px;
        background: rgba(0,0,0,.6);
        color: #fff;
        font-size: 10px;
      }

      .sub-body {
        padding: 18px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        flex: 1;
      }
      .sub-title {
        margin: 0;
        font-size: 18px;
        font-weight: 800;
        cursor: pointer;
        transition: color .15s;
        color: var(--primary);
      }
      .sub-title:hover { color: var(--primary); }

      .sub-desc {
        margin: 0;
        font-size: 13px;
        color: color-mix(in oklab, var(--text) 62%, transparent);
        line-height: 1.6;
        flex: 1;
      }
      .sub-meta {
        display: flex;
        justify-content: space-between;
        font-size: 12px;
        color: color-mix(in oklab, var(--text) 50%, transparent);
        margin-top: auto;
      }
      /* opinion */

      .opinion {
        background: var(--surface);
        border-radius: 16px;
        margin: 20px 0px 20px 0px;
        position: relative;
      }

      .opinion h3 {
        text-align: center;
        padding-top: 20px;
        padding-bottom: 0px;
      }

      .highlight {
        color: #3b82f6;
      }

      .opinion-wrap {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 60px;
        position: relative;
        padding-bottom: 20px;
      }

      .side {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .title {
        font-weight: bold;
        font-size: 14px;
      }

      .pill {
        padding: 10px 20px;
        border-radius: 999px;
        background: #f3e8ff;
        color: #6b21a8;
        cursor: pointer;
        transition: transform 0.3s;
      }

      .pill.warn {
        background: #fef3c7;
        color: #92400e;
      }

      .center-topic {
        width: 160px;
        height: 160px;
        border-radius: 50%;
        background: linear-gradient(135deg, #60a5fa, #2563eb);
        color: white;
        text-align: center;
        padding: 20px;
        cursor: pointer;
      }


      /* í•œ ì¤„ì§œë¦¬ ê°œì¸í™” ê¸°ì‚¬ */

      .personalized-wrap {
        max-width: 1280px;
        display: flex;
        flex-direction: column;
        gap: 16px;
        margin: 0 auto;
      }
      .personalized-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 16px;
      }

      /* ğŸ”¥ ë§í¬ ë°‘ì¤„ ì œê±° */
      .news-link {
        text-decoration: none;
      }

      /* ì¹´ë“œ */
      .personal-card {
        position: relative;
        transition: box-shadow .2s ease, transform .2s ease;
        cursor: pointer;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 24px 28px;
        min-height: 120px;
      }

      .personal-card:hover {
        transform: translateY(-3px);
        box-shadow: var(--shadow-md);
        border-color: var(--primary);
      }
      /* ì œëª© ê°•ì¡° */
      .personal-card:hover .card-title {
        color: var(--primary);
      }

      /* ë¦¬ìŠ¤íŠ¸í˜• ì¹´ë“œ */
      .list-card {
        display: flex;
        align-items: center;
        gap: 16px;
        min-height: 120px;
        margin-bottom: 10px;
      }

      /* ì¸ë„¤ì¼ */
      .personal-img {
        width: 64px;
        height: 64px;
        border-radius: 12px;
        overflow: hidden;
        flex-shrink: 0;
        background: #f3f4f6;
      }
      .personal-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }

      /* í…ìŠ¤íŠ¸ */
      .card-text {
        display: flex;
        flex-direction: column;
        gap: 6px;
        padding-right: 80px;
      }

      .card-title {
        font-size: 15px;
        font-weight: 600;
        color: var(--text);
      }

      .card-time {
        font-size: 13px;
        color: color-mix(in oklab, var(--text) 55%, transparent);
      }


      /* Footer */
      .footer {
        margin-top: 48px;
        border-top: 1px solid var(--border);
        background: var(--surface);
        padding: 32px 0;
      }
      .footer-inner {
        text-align: center;
        color: var(--muted);
        font-size: 14px;
      }
      .footer-copy { margin: 0 0 10px; }
      .footer-links {
        display: flex;
        justify-content: center;
        gap: 16px;
      }
      .footer-links a {
        color: var(--muted);
        text-decoration: none;
      }
      .footer-links a:hover { color: var(--text); }

      /* ì›Œë“œí´ë¼ìš°ë“œ ì„¹ì…˜ */
      .wordcloud-section {
        background: var(--surface-light, #ffffff);
        border: 1px solid #e5e7eb;
        border-radius: 16px;
        padding: 40px 0;
        margin-top: 24px;
        height: 500px;
      }

      body.dark .wordcloud-section {
        background: #1f2937;
        border-color: #374151;
      }

      .wordcloud-title {
        font-size: 18px;
        font-weight: 700;
        padding-bottom: 20px;
        padding-left: 26px;
        padding-top: 0px;
      }

      /* í´ë¼ìš°ë“œ ì˜ì—­ */
      .wordcloud-container {
        min-height: 360px;
        max-width: 1200px;
        margin-left: 10px;
        margin-right: 10px;
        background: color-mix(in oklab, var(--text) 6%, transparent);
        border-radius: 12px;
        padding: 0 24px;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        gap: 12px;
      }

      body.dark .wordcloud-container {
        background: #111827;
      }

      /* í‚¤ì›Œë“œ */
      .word-item {
        font-weight: 700;
        cursor: pointer;
        transition: transform 0.2s ease, opacity 0.2s ease;
        user-select: none;
      }

      .word-item:hover {
        transform: scale(1.15);
        opacity: 0.9;
      }


      /* Line clamp utilities */
      .clamp-2, .clamp-3 {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      .clamp-2 { -webkit-line-clamp: 2; }
      .clamp-3 { -webkit-line-clamp: 3; }

      /* Footer */
      footer {
        background-color: #ffffff;
        border-top: 1px solid #e5e7eb;
        margin-top: 5rem;
        padding: 3rem 0;
      }

      body.dark footer {
        background-color: #1f2937;
        border-top-color: #374151;
      }

      .footer-container {
        max-width: 1280px;
        margin: 0 auto;
        padding: 0 1rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
      }

      @media (min-width: 768px) {
        .footer-container {
          flex-direction: row;
          justify-content: space-between;
        }
      }

      .footer-info {
        font-size: 0.875rem;
        color: #6b7280;
        text-align: center;
      }

      body.dark .footer-info {
        color: #9ca3af;
      }

    </style>
</head>

  <body>
    <nav>
      <div class="nav-container">
        <div class="nav-content">

          <!-- Logo -->
          <div class="nav-left">
            <a class="logo" href="homepage.html">
              <span class="material-symbols-outlined logo-icon">palette</span>
              <span class="logo-text">NewsPalette</span>
            </a>
          </div>

          <!-- Category -->
          <div class="category">
            <a class="nav-splash-item splash-society" href="socialcategorypage.html">ì‚¬íšŒ/ê²½ì œ</a>
            <a class="nav-splash-item splash-politics" href="politiccategorypage.html">ì •ì¹˜</a>
            <a class="nav-splash-item splash-economy" href="economycategory.html">êµ­ì œ</a>
            <a class="nav-splash-item splash-world" href="universecategory.html">ì§€ì—­</a>
            <a class="nav-splash-item splash-tech" href="culturecategory.html">ë¬¸í™”</a>
            <a class="nav-splash-item splash-tech" href="sportscategory.html">ìŠ¤í¬ì¸ </a>
          </div>

          <!-- Actions -->
          <div class="header-actions">
            <button class="icon-button" onclick="toggleDarkMode()">
              <span class="material-symbols-outlined">dark_mode</span>
            </button>

            <div class="user-menu">
              <button class="user-menu-button" onclick="toggleUserMenu(event)">
                <div class="user-menu-blob"></div>
                <span class="material-symbols-outlined user-menu-icon">account_circle</span>
              </button>

              <div class="user-dropdown" id="userDropdown">
                <div id="dropdownContent"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>


    <!-- Main -->
    <main class="container main">
      <!-- Search -->
      <section class="search-section">
        <div class="search-bar">
          <div class="select-wrap">
            <select class="select">
              <option>ì œëª©+ë³¸ë¬¸</option>
              <option>ì œëª©</option>
              <option>ë³¸ë¬¸</option>
              <option>í‚¤ì›Œë“œ</option>
            </select>
            <span class="material-symbols-outlined select-caret">expand_more</span>
          </div>

          <div class="search-input-wrap">
            <input class="search-input" placeholder="ê´€ì‹¬ìˆëŠ” ë‰´ìŠ¤ë¥¼ ê²€ìƒ‰í•´ë³´ì„¸ìš”" type="text" />
            <button class="search-btn" aria-label="ê²€ìƒ‰">
              <span class="material-symbols-outlined">search</span>
            </button>
          </div>
        </div>
      </section>

      <!-- Top grid -->
      <section class="top-grid">

        <!-- â­ Main news (ìºëŸ¬ì…€ ì ìš©) -->
        <div class="main-news carousel">

          <!-- ì™¼ìª½ ë²„íŠ¼ -->
          <button class="arrow left" id="prevBtn">
            <span class="material-symbols-outlined">chevron_left</span>
          </button>

          <!-- ìºëŸ¬ì…€ viewport -->
           <div class="viewport">
            <div class="track" id="track">

              <!-- ===== ë©”ì¸ê¸°ì‚¬ ìŠ¬ë¼ì´ë“œ 1 ===== -->
              <a href="article-detail.html?id=123" class="news-link">
                <div class="main-news-card">
                  <div class="main-news-media">
                      <img
                          alt="Main News Abstract"
                          src="https://via.placeholder.com/800x600"
                      />
                      <div class="media-gradient"></div>
                      <div class="trend-chip">
                          <span class="material-symbols-outlined">trending_up</span>
                          íŠ¸ë Œë“œ ìˆœìœ„ 1ìœ„
                      </div>
                  </div>

                  <div class="main-news-body">
                    <div class="meta-row">
                        <span class="pill"></span>
                        <span class="date">ê¸°ê°„</span>
                    </div>

                    <h1 class="main-title">
                        1ì œì—ì—¥ì—ì—ì—ì—ì—ì—ì—ëª¨ê³ ì˜¤ì˜¤ì˜¤ì˜¤ì˜¥
                    </h1>

                    <p class="main-desc clamp-3">
                        ì•ˆë…•í•˜ì„¸ìš”. ì´ê²ƒì€ ë©”ì¸ ê¸°ì‚¬ ì„¤ëª…ì…ë‹ˆë‹¤.
                    </p>

                    <div class="article-footer">
                        <div class="article-author-info">
                            <span class="author-name">ê¸°ìëª…</span>
                            <span class="author-dot">ì–¸ë¡ ì‚¬ëª…</span>
                        </div>
                    </div>

                    <div class="score-container">
                        <div class="trend-score">
                            <span class="trend-label">íŠ¸ë Œë“œ</span>
                            <span class="trend-value"></span>
                        </div>

                        <div class="trust-score">
                            <span class="trust-label">ì‹ ë¢°ë„</span>
                            <span class="trust-value"></span>
                        </div>
                    </div>
                  </div>
                </div>
              </a>

              <!-- ===== ë©”ì¸ê¸°ì‚¬ ìŠ¬ë¼ì´ë“œ 2 ===== -->
              <a href="article-detail.html?id=123" class="news-link">
                <div class="main-news-card">
                  <div class="main-news-media">
                      <img
                          alt="Main News Abstract"
                          src="https://via.placeholder.com/800x600"
                      />
                      <div class="media-gradient"></div>
                      <div class="trend-chip">
                          <span class="material-symbols-outlined">trending_up</span>
                          íŠ¸ë Œë“œ ìˆœìœ„ 2ìœ„
                      </div>
                  </div>

                  <div class="main-news-body">
                    <div class="meta-row">
                        <span class="pill"></span>
                        <span class="date">ê¸°ê°„</span>
                    </div>

                    <h1 class="main-title">
                        2ì œì—ì—¥ì—ì—ì—ì—ì—ì—ì—ëª¨ê³ ì˜¤ì˜¤ì˜¤ì˜¤ì˜¥
                    </h1>

                    <p class="main-desc clamp-3">
                        ì•ˆë…•í•˜ì„¸ìš”. ì´ê²ƒì€ ë©”ì¸ ê¸°ì‚¬ ì„¤ëª…ì…ë‹ˆë‹¤.
                    </p>

                    <div class="article-footer">
                        <div class="article-author-info">
                            <span class="author-name">ê¸°ìëª…</span>
                            <span class="author-dot">ì–¸ë¡ ì‚¬ëª…</span>
                        </div>
                    </div>

                    <div class="score-container">
                        <div class="trend-score">
                            <span class="trend-label">íŠ¸ë Œë“œ</span>
                            <span class="trend-value"></span>
                        </div>

                        <div class="trust-score">
                            <span class="trust-label">ì‹ ë¢°ë„</span>
                            <span class="trust-value"></span>
                        </div>
                    </div>
                  </div>
                </div>
              </a>

              <!-- ===== ë©”ì¸ê¸°ì‚¬ ìŠ¬ë¼ì´ë“œ 3 ===== -->
              <a href="article-detail.html?id=123" class="news-link">
                <div class="main-news-card">
                  <div class="main-news-media">
                      <img
                          alt="Main News Abstract"
                          src="https://via.placeholder.com/800x600"
                      />
                      <div class="media-gradient"></div>
                      <div class="trend-chip">
                          <span class="material-symbols-outlined">trending_up</span>
                          íŠ¸ë Œë“œ ìˆœìœ„ 3ìœ„
                      </div>
                  </div>

                  <div class="main-news-body">
                    <div class="meta-row">
                        <span class="pill"></span>
                        <span class="date">ê¸°ê°„/span>
                    </div>

                    <h1 class="main-title">
                        3ì œì—ì—¥ì—ì—ì—ì—ì—ì—ì—ëª¨ê³ ì˜¤ì˜¤ì˜¤ì˜¤ì˜¥
                    </h1>

                    <p class="main-desc clamp-3">
                        ì•ˆë…•í•˜ì„¸ìš”. ì´ê²ƒì€ ë©”ì¸ ê¸°ì‚¬ ì„¤ëª…ì…ë‹ˆë‹¤.
                    </p>

                    <div class="article-footer">
                        <div class="article-author-info">
                            <span class="author-name">ê¸°ìëª…</span>
                            <span class="author-dot">ì–¸ë¡ ì‚¬ëª…</span>
                        </div>
                    </div>

                    <div class="score-container">
                        <div class="trend-score">
                            <span class="trend-label">íŠ¸ë Œë“œ</span>
                            <span class="trend-value"></span>
                        </div>

                        <div class="trust-score">
                            <span class="trust-label">ì‹ ë¢°ë„</span>
                            <span class="trust-value"></span>
                        </div>
                    </div>
                  </div>
                </div>
              </a>

              <!-- ===== ë©”ì¸ê¸°ì‚¬ ìŠ¬ë¼ì´ë“œ 4 ===== -->
              <a href="article-detail.html?id=123" class="news-link">
                <div class="main-news-card">
                  <div class="main-news-media">
                      <img
                          alt="Main News Abstract"
                          src="https://via.placeholder.com/800x600"
                      />
                      <div class="media-gradient"></div>
                      <div class="trend-chip">
                          <span class="material-symbols-outlined">trending_up</span>
                          íŠ¸ë Œë“œ ìˆœìœ„ 4ìœ„
                      </div>
                  </div>

                  <div class="main-news-body">
                    <div class="meta-row">
                        <span class="pill"></span>
                        <span class="date">ê¸°ê°„</span>
                    </div>

                    <h1 class="main-title">
                        4ì œì—ì—¥ì—ì—ì—ì—ì—ì—ì—ëª¨ê³ ì˜¤ì˜¤ì˜¤ì˜¤ì˜¥
                    </h1>

                    <p class="main-desc clamp-3">
                        ì•ˆë…•í•˜ì„¸ìš”. ì´ê²ƒì€ ë©”ì¸ ê¸°ì‚¬ ì„¤ëª…ì…ë‹ˆë‹¤.
                    </p>

                    <div class="article-footer">
                        <div class="article-author-info">
                            <span class="author-name">ê¸°ìëª…</span>
                            <span class="author-dot">ì–¸ë¡ ì‚¬ëª…</span>
                        </div>
                    </div>

                    <div class="score-container">
                        <div class="trend-score">
                            <span class="trend-label">íŠ¸ë Œë“œ</span>
                            <span class="trend-value"></span>
                        </div>

                        <div class="trust-score">
                            <span class="trust-label">ì‹ ë¢°ë„</span>
                            <span class="trust-value"></span>
                        </div>
                    </div>
                  </div>
                </div>
              </a>

              <!-- ===== ë©”ì¸ê¸°ì‚¬ ìŠ¬ë¼ì´ë“œ 5 ===== -->
              <a href="article-detail.html?id=123" class="news-link">
                <div class="main-news-card">
                  <div class="main-news-media">
                      <img
                          alt="Main News Abstract"
                          src="https://via.placeholder.com/800x600"
                      />
                      <div class="media-gradient"></div>
                      <div class="trend-chip">
                          <span class="material-symbols-outlined">trending_up</span>
                          íŠ¸ë Œë“œ ìˆœìœ„ 5ìœ„
                      </div>
                  </div>

                  <div class="main-news-body">
                    <div class="meta-row">
                        <span class="pill"></span>
                        <span class="date"></span>
                    </div>

                    <h1 class="main-title">
                        5ì œì—ì—¥ì—ì—ì—ì—ì—ì—ì—ëª¨ê³ ì˜¤ì˜¤ì˜¤ì˜¤ì˜¥
                    </h1>

                    <p class="main-desc clamp-3">
                        ì•ˆë…•í•˜ì„¸ìš”. ì´ê²ƒì€ ë©”ì¸ ê¸°ì‚¬ ì„¤ëª…ì…ë‹ˆë‹¤.
                    </p>

                    <div class="article-footer">
                        <div class="article-author-info">
                            <span class="author-name">ê¸°ìëª…</span>
                            <span class="author-dot">ì–¸ë¡ ì‚¬ëª…</span>
                        </div>
                    </div>

                    <div class="score-container">
                        <div class="trend-score">
                            <span class="trend-label">íŠ¸ë Œë“œ</span>
                            <span class="trend-value"></span>
                        </div>

                        <div class="trust-score">
                            <span class="trust-label">ì‹ ë¢°ë„</span>
                            <span class="trust-value"></span>
                        </div>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div>

          <!-- ì˜¤ë¥¸ìª½ ë²„íŠ¼ -->
          <button class="arrow right" id="nextBtn">
            <span class="material-symbols-outlined">chevron_right</span>
          </button>

        </div>

        <!-- Related (ì—°ê´€ê¸°ì‚¬) -->
        <aside class="related">
          <div class="related-head">
            <h2 class="section-title">
              <span class="title-bar"></span>
              ì—°ê´€ ê¸°ì‚¬
            </h2>
          </div>

          <a href="/article/${item.article_id}" class="newslink">
            <article class="related-item">
              <div class="thumb">
                <img
                  alt="Related News 1"
                  src="https://via.placeholder.com/96x96"
                />
              </div>
              <div class="related-text">
                <h3 class="related-title clamp-2">
                  ì—°ê´€ê¸°ì‚¬: êµ­ë‚´ ìŠ¤íƒ€íŠ¸ì—… íˆ¬ì ìœ ì¹˜ í˜„í™©ê³¼ ë¯¸ë˜ ì „ëµ
                </h3>
                <div class="article-footer">
                    <div class="article-author-info">
                        <span class="author-name">ê¸°ìëª…</span>
                        <span class="author-dot">ì–¸ë¡ ì‚¬ëª…</span>
                    </div>
                </div>
              </div>
              <div class="trust-score" data-score="">
                  <span class="trust-label">ì‹ ë¢°ë„</span>
                  <span class="trust-value"></span>
              </div>
            </article>
          </a>

          <a href="/article/${item.article_id}" class="newslink">
            <article class="related-item">
              <div class="thumb">
                <img
                  alt="Related News 2"
                  src="https://via.placeholder.com/96x96"
                />
              </div>
              <div class="related-text">
                <h3 class="related-title clamp-2">
                  ì—°ê´€ê¸°ì‚¬: ê¸€ë¡œë²Œ ì‹œì¥ íŠ¸ë Œë“œ ë¶„ì„
                </h3>
                <div class="article-footer">
                    <div class="article-author-info">
                        <span class="author-name">ê¸°ìëª…</span>
                        <span class="author-dot">ì–¸ë¡ ì‚¬ëª…</span>
                    </div>
                </div>
              </div>
              <div class="trust-score" data-score="">
                  <span class="trust-label">ì‹ ë¢°ë„</span>
                  <span class="trust-value"></span>
              </div>
            </article>
          </a>

          <a href="/article/${item.article_id}" class="newslink">
            <article class="related-item">
              <div class="thumb">
                <img
                  alt="Related News 3"
                  src="https://via.placeholder.com/96x96"
                />
              </div>
              <div class="related-text">
                <h3 class="related-title clamp-2">
                  ì—°ê´€ê¸°ì‚¬: ì‹ ê¸°ìˆ  ë„ì…ê³¼ ì‚°ì—… ë³€í™”
                </h3>
                <div class="article-footer">
                    <div class="article-author-info">
                        <span class="author-name">ê¸°ìëª…</span>
                        <span class="author-dot">ì–¸ë¡ ì‚¬ëª…</span>
                    </div>
                </div>
              </div>
              <div class="trust-score" data-score="">
                  <span class="trust-label">ì‹ ë¢°ë„</span>
                  <span class="trust-value"></span>
              </div>
            </article>
          </a>

          <a href="/article/${item.article_id}" class="newslink">
            <article class="related-item">
              <div class="thumb">
                <img
                  alt="Related News 4"
                  src="https://via.placeholder.com/96x96"
                />
              </div>
              <div class="related-text">
                <h3 class="related-title clamp-2">
                  ì—°ê´€ê¸°ì‚¬: ì •ì±… ë³€í™”ì™€ ê¸°ì—… ëŒ€ì‘ ì „ëµ
                </h3>
                <div class="article-footer">
                    <div class="article-author-info">
                        <span class="author-name">ê¸°ìëª…</span>
                        <span class="author-dot">ì–¸ë¡ ì‚¬ëª…</span>
                    </div>
                </div>
              </div>
              <div class="trust-score" data-score="">
                  <span class="trust-label">ì‹ ë¢°ë„</span>
                  <span class="trust-value"></span>
              </div>
            </article>
          </a>
        </aside>
      </section>

      <!-- ê°œì¸í™” ì¶”ì²œ ê¸°ì‚¬ -->
      <section class="personalized-wrap">
        <div class="personalized-header">
          <h2 class="section-title">
            <span class="title-bar"></span>
              ê°œì¸í™” ì¶”ì²œ ê¸°ì‚¬
          </h2>
          <a class="more-link" href="./user_article.html?from=main">ë”ë³´ê¸°</a>
        </div>

        <div class="personalized-list" id="personalizedList">
          <a href="/article/${item.article_id}" class="news-link">
            <article class="personal-card list-card">
              <div class="personal-img">
                <img
                  alt="ê°œì¸í™” ê¸°ì‚¬ ì´ë¯¸ì§€"
                  src="https://via.placeholder.com/64x64"
                />
              </div>
              <div class="card-text">
                <h3 class="card-title clamp-2">
                  ê°œì¸í™” ê¸°ì‚¬: êµ­ë‚´ ìŠ¤íƒ€íŠ¸ì—… íˆ¬ì ìœ ì¹˜ í˜„í™©ê³¼ ë¯¸ë˜ ì „ëµ
                </h3>
                <span class="card-time">10ë¶„ ì „</span>
              </div>
              <div class="trust-score" data-score="">
                 <span class="trust-label">ì‹ ë¢°ë„</span>
                 <span class="trust-value"></span>
              </div>
            </article>
          </a>

          <a href="/article/${item.article_id}" class="news-link">
            <article class="personal-card list-card">
              <div class="personal-img">
                <img
                  alt="ê°œì¸í™” ê¸°ì‚¬ ì´ë¯¸ì§€"
                  src="https://via.placeholder.com/64x64"
                />
              </div>
              <div class="card-text">
                <h3 class="card-title clamp-2">
                  ê°œì¸í™” ê¸°ì‚¬: AI ê¸°ìˆ ì˜ ìµœì‹  ë™í–¥
                </h3>
                <span class="card-time">20ë¶„ ì „</span>
              </div>
              <div class="trust-score" data-score="">
                  <span class="trust-label">ì‹ ë¢°ë„</span>
                  <span class="trust-value"></span>
              </div>
            </article>
          </a>

          <a href="/article/${item.article_id}" class="news-link">
            <article class="personal-card list-card">
              <div class="personal-img">
                <img
                  alt="ê°œì¸í™” ê¸°ì‚¬ ì´ë¯¸ì§€"
                  src="https://via.placeholder.com/64x64"
                />
              </div>
              <div class="card-text">
                <h3 class="card-title clamp-2">
                  ê°œì¸í™” ê¸°ì‚¬: í™˜ê²½ ì •ì±…ì˜ ìƒˆë¡œìš´ ë°©í–¥
                </h3>
                <span class="card-time">30ë¶„ ì „</span>
              </div>
              <div class="trust-score" data-score="">
                  <span class="trust-label">ì‹ ë¢°ë„</span>
                  <span class="trust-value"></span>
              </div>
            </article>
          </a>

          <a href="/article/${item.article_id}" class="news-link">
            <article class="personal-card list-card">
              <div class="personal-img">
                <img
                  alt="ê°œì¸í™” ê¸°ì‚¬ ì´ë¯¸ì§€"
                  src="https://via.placeholder.com/64x64"
                />
              </div>
              <div class="card-text">
                <h3 class="card-title clamp-2">
                  ê°œì¸í™” ê¸°ì‚¬: ê¸€ë¡œë²Œ ê²½ì œ ì „ë§
                </h3>
                <span class="card-time">1ì‹œê°„ ì „</span>
              </div>
              <div class="trust-score" data-score="">
                  <span class="trust-label">ì‹ ë¢°ë„</span>
                  <span class="trust-value"></span>
              </div>
            </article>
          </a>

          <a href="/article/${item.article_id}" class="news-link">
            <article class="personal-card list-card">
              <div class="personal-img">
                <img
                  alt="ê°œì¸í™” ê¸°ì‚¬ ì´ë¯¸ì§€"
                  src="https://via.placeholder.com/64x64"
                />
              </div>
              <div class="card-text">
                <h3 class="card-title clamp-2">
                  ê°œì¸í™” ê¸°ì‚¬: êµìœ¡ ì‹œìŠ¤í…œ í˜ì‹  ë°©ì•ˆ
                </h3>
                <span class="card-time">2ì‹œê°„ ì „</span>
              </div>
              <div class="trust-score" data-score="">
                  <span class="trust-label">ì‹ ë¢°ë„</span>
                  <span class="trust-value"></span>
              </div>
            </article>
          </a>
        </div>
      </section>

        <!-- í† í”½ì— ê´€ë ¨ëœ ê¸/ë¶€ -->
        <section class="opinion">
          <div class="opinion-container">
            <h3>
              <span class="highlight">ì˜¤ëŠ˜ì˜ í† í”½</span> ì—¬ë¡  ë¶„ì„
            </h3>

            <div class="opinion-wrap">

              <div class="side positive">
                <p class="title">ê¸ì • / ê¸°ëŒ€</p>
                <a href="/article/${item.article_id}">
                  <div class="pill">ê¸°ì‚¬1</div>
                </a>
                <a href="/article/${item.article_id}">
                  <div class="pill">ê¸°ì‚¬1</div>
                </a>
              </div>

              <div class="center-topic">
                <p class="small">HOT TOPIC</p>
                <h4>AI ê¸°ìˆ <br>ê·œì œ ë²•ì•ˆ</h4>
              </div>

              <div class="side negative">
                <p class="title">ë¶€ì • / ìš°ë ¤</p>
                <a href="/article/${item.article_id}">
                  <div class="pill warn">ê¸°ì‚¬1</div>
                </a>
                <a href="/article/${item.article_id}">
                  <div class="pill warn">ê¸°ì‚¬2</div>
                </a>
              </div>

            </div>
          </div>
        </section>

        <section class="wordcloud-section">
        <h3 class="wordcloud-title">ì˜¤ëŠ˜ì˜ í‚¤ì›Œë“œ í´ë¼ìš°ë“œ</h3>

        <div class="wordcloud-container" id="wordCloud">
          <!-- JSë¡œ í‚¤ì›Œë“œ ì£¼ì… -->
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-info">
                <p>Â© 2026 NewsPalette Inc. All rights reserved.</p>
            </div>
        </div>
    </footer>

  </body>
  <script>
    // ê¸°ì‚¬ ë¶ˆëŸ¬ì˜¤ê¸° ë°±ì—”ë“œ í•´ë³¼ë ¤ê³  ì‘ì„±í•œê±´ë° ë§ëŠ”ì§€ëŠ”.. í•´ë´ì•¼ ì•Œ ê²ƒ ê°™ì•„ìš”
    $(function () {
      $.ajax({
        url: "/api/main-article",
        method: "POST",
        dataType: "json",
        success: function (data) {
          const article = data.main_article;

          $(".main-news-media img")
            .attr("src", article.image_url)
            .attr("alt", article.title);

          $(".pill").text(article.category);
          $(".date").text(article.upload_date);
          $(".main-title").text(article.article_title);
          $(".main-desc").text(article.article_content);
          $(".author-name").text(article.reporter);
          $(".author-dot").text(article.press_name);
          $(".trust-value").text(`${article.trust_score}ì `);
        },
        error: function () {
          console.error("ë°±ì—”ë“œ ì—°ê²° ì‹¤íŒ¨");
        }
      });
    });

    // ë¡œê·¸ì¸ ì²˜ë¦¬
    $(document).ready(function () {
      renderUserDropdown();

      // ë°”ê¹¥ í´ë¦­ ì‹œ ë‹«ê¸°
      $(document).on('click', function (e) {
        if (!$(e.target).closest('.user-menu').length) {
          $('#userDropdown').removeClass('show');
        }
      });

      // ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ (ë™ì  ìƒì„± ëŒ€ì‘)
      $(document).on('click', '.logout-btn', function () {
        localStorage.setItem('isLoggedIn', 'false');
        renderUserDropdown();
        $('#userDropdown').removeClass('show');
      });
    });

    // ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¥¸ ë©”ë‰´ ë Œë”ë§
    function renderUserDropdown() {
      const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';

      if (isLoggedIn) {
        $('#dropdownContent').html(`
          <div class="dropdown-header">
            <p class="dropdown-subtitle">í™˜ì˜í•©ë‹ˆë‹¤</p>
            <p class="dropdown-title">í™ê¸¸ë™ë‹˜</p>
          </div>
          <a href="mypage.html" class="dropdown-item">
            <span class="material-symbols-outlined">account_circle</span>
            ë§ˆì´í˜ì´ì§€
          </a>
          <button class="dropdown-item logout-btn">
            <span class="material-symbols-outlined">logout</span>
            ë¡œê·¸ì•„ì›ƒ
          </button>
        `);
      } else {
        $('#dropdownContent').html(`
          <div class="dropdown-header">
            <p class="dropdown-subtitle">ë” ë§ì€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´</p>
            <p class="dropdown-title">ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤</p>
          </div>
          <a href="login.html" class="dropdown-item">
            <span class="material-symbols-outlined">login</span>
            ë¡œê·¸ì¸
          </a>
          <a href="logregist.html" class="dropdown-item">
            <span class="material-symbols-outlined">person_add</span>
            íšŒì›ê°€ì…
          </a>
        `);
      }
    }
    localStorage.setItem('isLoggedIn', 'true');

    // ë©”ì¸ê¸°ì‚¬ ìºëŸ¬ì…€
    const track = document.getElementById("track");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    let index = 0;
    const total = track.children.length;

    function moveSlide() {
      track.style.transform = `translateX(-${index * 100}%)`;
    }

    nextBtn.addEventListener("click", () => {
      if (index < total - 1) {
        index++;
        moveSlide();
      }
    });

    prevBtn.addEventListener("click", () => {
      if (index > 0) {
        index--;
        moveSlide();
      }
    });

    // ìœ ì € ë©”ë‰´ í† ê¸€
    function toggleUserMenu(event) {
      event.stopPropagation();
      document.getElementById('userDropdown').classList.toggle('show');
    }

    // ì¹´í…Œê³ ë¦¬ ì„ íƒ ìƒ‰ìƒ ê³ ì •
    function setActiveCategoryByURL() {
      const navItems = document.querySelectorAll('.nav-splash-item');
      const currentPage = window.location.pathname.split('/').pop();

      navItems.forEach(item => {
        const href = item.getAttribute('href');
        if (href === currentPage) {
          item.classList.add('active');
        } else {
          item.classList.remove('active');
        }
      });
    }

    // ë‹¤í¬ëª¨ë“œ í† ê¸€
    function toggleDarkMode() {
      document.body.classList.toggle('dark');
      localStorage.setItem('darkMode', document.body.classList.contains('dark'));
    }

    // ë‹¤í¬ëª¨ë“œ ì´ˆê¸°í™”
    if (localStorage.getItem('darkMode') === 'true' ||
        (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches && !localStorage.getItem('darkMode'))) {
      document.body.classList.add('dark');
    }

    // ì´ˆê¸° ì‹¤í–‰
    document.addEventListener('DOMContentLoaded', () => {
      setActiveCategoryByURL();
    });
</script>
</html>